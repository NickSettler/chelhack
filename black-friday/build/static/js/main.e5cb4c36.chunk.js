(this["webpackJsonpblack-friday"]=this["webpackJsonpblack-friday"]||[]).push([[0],{25:function(e,t,a){e.exports=a(41)},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},35:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),c=a.n(o),i=(a(30),a(4)),s=a(5),l=a(8),u=a(7),d=a(9),m=(a(31),a(22)),f=a(10),p=a(21),h=(a(32),a(33),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header__logo"},r.a.createElement("span",{className:"header__logo-letter"},"B"),r.a.createElement("span",{className:"header__logo-text"},"Friday")),r.a.createElement("nav",{className:"header__menu"},r.a.createElement("div",{className:"header__link"},"Smartphones"),r.a.createElement("div",{className:"header__link"},"Laptops")))}}]),t}(r.a.Component)),g=a(12),b=a.n(g),v=a(14),O=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.id,n=void 0===a?null:a,r=t.title,o=void 0===r?"":r,c=t.availability,s=void 0===c||c,l=t.price,u=void 0===l?0:l,d=t.finalPrice,m=void 0===d?0:d,f=t.category,p=void 0===f?"":f,h=t.availableInDays,g=void 0===h?0:h,b=t.brand,v=void 0===b?"":b,O=t.brandId,y=void 0===O?0:O,j=t.quantity,k=void 0===j?0:j,_=t.imageUrl,E=void 0===_?"":_,w=t.parameters,N=void 0===w?[]:w;Object(i.a)(this,e),this.id=n,this.title=o,this.availability=s,this.price=u,this.finalPrice=m,this.category=p,this.availableInDays=g,this.brand=v,this.brandId=y,this.quantity=k,this.imageUrl=E,this.parameters=N},y=function(){function e(){Object(i.a)(this,e)}return Object(s.a)(e,null,[{key:"request",value:function(){var e=Object(v.a)(b.a.mark((function e(t){var a,n,r,o,c,i,s=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=s.length>1&&void 0!==s[1]?s[1]:{}).form){for(r in n=new FormData,a.form)n.append(r,a.form[r]);a.body=n}return a.query&&(o=new URLSearchParams(a.query),t+="?".concat(o)),c=null,e.next=6,fetch(t,a);case 6:if(i=e.sent,a.buffer||a.json){e.next=11;break}return e.next=10,i.text();case 10:c=e.sent;case 11:if(!a.buffer){e.next=15;break}return e.next=14,i.buffer();case 14:c=e.sent;case 15:if(!a.json){e.next=19;break}return e.next=18,i.json();case 18:c=e.sent;case 19:return e.abrupt("return",c);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getGoodsRaw",value:function(){return e.request("http://chelhack.deletestaging.com/goods",{mode:"cors",method:"GET",credentials:"same-origin",headers:{"Access-Control-Allow-Origin":"*",Origin:"http://chelhack.deletestaging.com/"}})}},{key:"equal",value:function(e,t){if(e.length!==t.length)return!1;for(var a in e){if(!t[a])return!1;if(e[a].id!==t[a].id)return!1}return!0}},{key:"lazyLoadGoods",value:function(){var t=Object(v.a)(b.a.mark((function t(){var a,n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request("http://10.100.67.127:8989/userapi/getGoods",{json:!0});case 2:a=t.sent,n=a.data.map((function(e){return new O(e)})),(r=localStorage.getItem("goods"))||(localStorage.setItem("goods",JSON.stringify(n)),r=localStorage.getItem("goods")),r=JSON.parse(r),e.equal(n,r)||localStorage.setItem("goods",JSON.stringify(n));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getGoods",value:function(){var t=Object(v.a)(b.a.mark((function t(){var a,n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=localStorage.getItem("goods")){t.next=12;break}return t.next=4,e.request("http://10.100.67.127:8989/userapi/getGoods",{json:!0});case 4:return n=t.sent,r=n.data.map((function(e){return new O(e)})),localStorage.setItem("goods",JSON.stringify(r)),t.next=9,e.getGoods();case 9:return t.abrupt("return",t.sent);case 12:e.lazyLoadGoods();case 13:return t.abrupt("return",JSON.parse(a));case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),e}(),j=(a(35),function(e){function t(e){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"formatPrice",value:function(e){return e.toLocaleString("en")}},{key:"render",value:function(){return r.a.createElement("div",{className:"good"},r.a.createElement("div",{className:"good__image-block"},r.a.createElement("img",{src:"http://chelhack.deletestaging.com"+this.props.good.imageUrl,className:"good__image"})),r.a.createElement("div",{className:"good__content"},r.a.createElement("span",{className:"good__title"},this.props.good.title),r.a.createElement("div",{className:"good__down-block"},r.a.createElement("span",{className:"good__subtitle_old"},this.formatPrice(this.props.good.price)+" \u20bd"),r.a.createElement("span",{className:"good__subtitle_new"},this.formatPrice(this.props.good.finalPrice)+" \u20bd"),r.a.createElement("div",{className:"good__buttons"},r.a.createElement("button",{className:"good__button"},"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443")))))}}]),t}(r.a.Component));function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var _=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={goods:[]},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;y.getGoods().then((function(t){e.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.state,{goods:t}))}))}},{key:"componentWillUpdate",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"home"},r.a.createElement(h,null),r.a.createElement("div",{className:"home__content"},this.state.goods.map((function(e,t){return r.a.createElement(j,{key:t,good:e})}))))}}]),t}(r.a.Component),E=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/",exact:!0},r.a.createElement(_,null))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.e5cb4c36.chunk.js.map